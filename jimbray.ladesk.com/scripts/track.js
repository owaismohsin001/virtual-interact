"object"!=typeof JSON&&(JSON={}),function(){"use strict";function t(t){return t<10?"0"+t:t}var e,i,n,s,o;function a(t){return e.lastIndex=0,e.test(t)?'"'+t.replace(e,(function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function r(t,e){var s,h,c,u,l,d=i,m=e[t];switch(m&&"object"==typeof m&&"function"==typeof m.toJSON&&(m=m.toJSON(t)),"function"==typeof o&&(m=o.call(e,t,m)),typeof m){case"string":return a(m);case"number":return isFinite(m)?String(m):"null";case"boolean":case"null":return String(m);case"object":if(!m)return"null";if(i+=n,l=[],"[object Array]"===Object.prototype.toString.apply(m)){for(u=m.length,s=0;s<u;s+=1)l[s]=r(s,m)||"null";return c=0===l.length?"[]":i?"[\n"+i+l.join(",\n"+i)+"\n"+d+"]":"["+l.join(",")+"]",i=d,c}if(o&&"object"==typeof o)for(u=o.length,s=0;s<u;s+=1)"string"==typeof o[s]&&(c=r(h=o[s],m))&&l.push(a(h)+(i?": ":":")+c);else for(h in m)Object.prototype.hasOwnProperty.call(m,h)&&(c=r(h,m))&&l.push(a(h)+(i?": ":":")+c);return c=0===l.length?"{}":i?"{\n"+i+l.join(",\n"+i)+"\n"+d+"}":"{"+l.join(",")+"}",i=d,c}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),"function"!=typeof JSON.stringify&&(e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,s){var a;if(i="",n="","number"==typeof s)for(a=0;a<s;a+=1)n+=" ";else"string"==typeof s&&(n=s);if(o=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return r("",{"":t})})}(),window.LiveAgentTrackerXD=function(){var t,e,i="LA_POSTMESSAGE",n=1,s=this;return{postMessage:function(t,e,o){if(e){"string"==typeof t&&(t=[t]);var a=i+JSON.stringify(t);o=o||parent,s.postMessage?o.postMessage(a,"*"):o.location=e.replace(/#.*$/,"")+"#"+ +new Date+n+++"&"+a}},receiveMessage:function(n){var o=function(t){try{if(t.data.toString().substr(0,14)!==i)return;var e=t.data.slice(14),s=function(t){var e=t.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=e&&e.length>2&&"string"==typeof e[2]&&e[2].length>0?e[2]:null},o=new Array;void 0!==n.serverUrl&&null!==n.serverUrl&&""!==n.serverUrl&&o.push(s(n.serverUrl)),void 0!==n.tracker&&null!==n.tracker&&void 0!==n.tracker.url&&null!==n.tracker.url&&""!==n.tracker.url&&o.push(s(n.tracker.url));try{var a=JSON.parse(e,(function(t,e){if("string"!=typeof e&&"number"!=typeof e&&!Array.isArray(e))throw new TypeError("Unsupported type");return e}))}catch(t){return}(Array.isArray(a)&&0==o.length||-1!=o.indexOf(s(t.origin)))&&n.action.apply(n,a)}catch(t){console.log(t)}};s.postMessage?s.addEventListener?s[o?"addEventListener":"removeEventListener"]("message",o,!1):s[o?"attachEvent":"detachEvent"]("onmessage",o):(t&&clearInterval(t),t=null,o&&(t=setInterval((function(){var t=document.location.hash;t!==e&&(re=/^#?\d+&/,re.test(t)&&(o({data:t.replace(re,"")}),document.location.hash=""),e=document.location.hash)}),100)))},receiveMessageFun:function(n){var o=function(t){try{if(t.data.toString().substr(0,14)!==i)return;var e=t.data.slice(14);try{var s=JSON.parse(e,(function(t,e){if("string"!=typeof e&&"number"!=typeof e&&!Array.isArray(e))throw new TypeError("Unsupported type");return e}))}catch(t){return}n.apply(n,s)}catch(t){console.log(t)}};s.postMessage?s.addEventListener?s[o?"addEventListener":"removeEventListener"]("message",o,!1):s[o?"attachEvent":"detachEvent"]("onmessage",o):(t&&clearInterval(t),t=null,o&&(t=setInterval((function(){var t=document.location.hash;t!==e&&(re=/^#?\d+&/,re.test(t)&&(o({data:t.replace(re,"")}),document.location.hash=""),e=document.location.hash)}),100)))}}}(),function(t,e){if(!t.LiveAgent){var i=function(t){var e=t.hasOwnProperty("construct")?t.construct:function(){};for(var n in i.Initializers)i.Initializers[n].call(e,t[n],t);return e};i.Initializers={Extends:function(t){if(t){var e=function(){};this._superClass=e.prototype=t.prototype,this.prototype=new e}},Mixins:function(t,e){this.mixin=function(t){for(var e in t)e in i.Initializers||(this.prototype[e]=t[e]);this.prototype.construct=this};for(var n=[e].concat(t||[]),s=0,o=n.length;s<o;s++)this.mixin(n[s])}};var n=i({construct:function(t){this.params={},this.add("C",t)},add:function(t,e){this.params[t]=e},fullEncodeUrl_:function(t){return null==t||""==t?"":t=(t=t.replace(new RegExp("http://","g"),"__H__")).replace(new RegExp("https://","g"),"__S__")},getParamsString:function(){var t="";for(var e in this.params)this.params.hasOwnProperty(e)&&(t+="&"+e+"="+encodeURIComponent(this.params[e]));return t}}),s=i({Extends:n,construct:function(t,i){n.call(this,"Track"),this.add("B",o.instance.getBrowserId()),this.add("S",o.instance.getSessionId()),this.add("pt",this.getTitle_()),this.add("url",this.fullEncodeUrl_(this.getUrl_(t))),this.add("ref",this.fullEncodeUrl_(e.referrer)),this.add("sr",screen.width+"x"+screen.height),this.add("ud",JSON.stringify(o.instance.getUserDetails())),this.add("vn",o.getCookie("LaVisitorNew")),this.add("ci",o.getCookie("closedInvitations")),this.add("jstk",this.getJsTrack_(i))},getTitle_:function(){var t=e.title;return"string"==typeof e.title&&(t=e.title.replace(/\|/g," ")),t},getUrl_:function(t){return void 0===t?e.location.href:t},getJsTrack_:function(t){return void 0===t?"Y":t}}),o=(i({Extends:n,construct:function(t){n.call(this,"Invite"),this.add("id",t),this.add("url",this.fullEncodeUrl_(e.location.href))}}),i({integrationElementId:"la_x2s6df8d",construct:function(){this.serverUrl=this.computeServerUrl_(),this.sessionId="",this.browserId=o.getCookie(this.getVisitorIdCookieName_()),this.tracking=!0,this.tracker=null,this.requests=[],this.elements=new Map,this.invitations=[],this.openedWidget=null,this.userDetails=null,this.pageOpenedTimestamp=(new Date).getTime(),this.isMobileBrowser=!1,this.runningChatEnabled=!0,this.restartCallback=null,this.isChatRunning()||this.resetVisitorIfRequested(),this.initBrowserId_(),this.initSessionId_(),this.initUserDetails_(),this.detectMobileBrowser_(),setTimeout((function(){o.instance.trackVisit_()}),250),t.LiveAgentTrackerXD.receiveMessage(this),this.initCursorPositionTracking_(),setTimeout((function(){o.instance.initRunningChat_()}),250)},tracker:null,initTracker:function(t){this.tracker=t},getWidget:function(t){return this.elements.get(t)},getWidgetsByWidgetId:function(t){let e=[];for(const i of this.elements.values())i.getId()===t&&e.push(i);return e},createInvitation:function(t,e){if(!(o.getCookie("closedInvitations").indexOf(t)>=0))return this.invitations.push(this.addWidget_(new o.Invitation(t,e)))},addInvitationForPull:function(t,i,n){if(!(this.invitations.length>0||o.getCookie("closedInvitations").indexOf(t)>=0)){try{if(!n(o.getCookie("LaVisitorNew"),e.location.href,e.referrer))return}catch(t){return}this.createInvitation(t,i)}},createManualInvitation:function(t,e){return this.addWidget_(new o.ManualInvitation(t,e))},addWidget_:function(t){return this.elements.set(t.getElementId(),t),t},removeWidget:function(t){null!=t&&this.elements.has(t.getElementId())&&this.elements.delete(t.getElementId())},removeWidgetsByWidgetId:function(t){for(const[e,i]of this.elements)i.getId()===t&&this.elements.delete(e)},enqueue:function(t){this.requests[this.requests.length]=t.params},send:function(t){this.enqueue(t),clearTimeout(this.sendTimer),this.sendTimer=setTimeout((function(){o.instance.sendRequest_()}),300)},getPageOpenedTimestamp:function(){return this.pageOpenedTimestamp},getSessionId:function(){return this.sessionId},getBrowserId:function(){return this.browserId},isMobile:function(){return this.isMobileBrowser},getPageCharset:function(){return e.characterSet?e.characterSet:e.charset},getUserDetails:function(){return this.userDetails},getCursorPosition:function(){return this.cursorPosition},getServerUrl:function(t){var e=this.serverUrl;return void 0!==t&&(e=t+this.removeUrlProtocol_(this.serverUrl)),e},trackVisit_:function(t,e){if(this.tracking){var i=new s(t,e);this.addScript("scripts/track_visit.php?t=Y"+i.getParamsString())}},getRequestsParams_:function(){return"?S="+this.sessionId+"&B="+this.browserId+"&ChS="+this.getPageCharset()+"&D="+encodeURIComponent(o.stringifyToJSON(this.requests))},sendRequest_:function(){this.addScript("scripts/track.php"+this.getRequestsParams_()),this.requests=[]},addScript:function(t){var i=e.getElementsByTagName("head").item(0),n=e.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",this.serverUrl+t),i.appendChild(n),n.onload=n.onreadystatechange=function(){setTimeout((function(){try{i.removeChild(n)}catch(t){}}),500)}},computeServerUrl_:function(t){var i=new String(e.getElementById(this.integrationElementId).src);return"/"==i.substr(0,1)&&"/"!=i.substr(1,1)&&(i=e.location.protocol+"//"+e.location.host+i),i.substr(0,i.lastIndexOf("scripts/"))},removeUrlProtocol_:function(t){var e=new String(t);return"http:"==e.substr(0,5)?e.substr(5):"https:"==e.substr(0,6)?e.substr(6):$url},hasOpenedWidget:function(){return null!=this.openedWidget},setRestartCallback:function(t){this.restartCallback=t},setOpenedWidget:function(t){this.openedWidget=t,this.clearInvitations_()},clearInvitations_:function(){for(var t=this.invitations.length,e=0;e<t;e++)this.invitations[e].cancel();this.invitations=[]},initCursorPositionTracking_:function(){this.setCursorPosition_(0,0);var t=this;if(!e.all)return e.captureEvents(Event.MOUSEMOVE),void(e.onmousemove=function(e){t.setCursorPosition_(e.pageX,e.pageY)});e.onmousemove=function(i){t.setCursorPosition_(event.clientX+e.body.scrollLeft,event.clientY+e.body.scrollTop)}},setCursorPosition_:function(t,e){this.cursorPosition={x:Math.max(0,t),y:Math.max(0,e)}},getWindowSize_:function(){var i=0,n=0;return"number"==typeof t.innerWidth?(i=t.innerWidth,n=t.innerHeight):e.documentElement&&(e.documentElement.clientWidth||e.documentElement.clientHeight)?(i=e.documentElement.clientWidth,n=e.documentElement.clientHeight):e.body&&(e.body.clientWidth||e.body.clientHeight)&&(i=e.body.clientWidth,n=e.body.clientHeight),{width:i,height:n}},createPopoutWindowParams_:function(t,e,i){var n=this.getWindowSize_();t>n.width&&(t=n.width),e>n.height&&(e=n.height);var s=0,o=n.height/2-e/2;if("R"==i)s=n.width-t;else if("C"==i)s=n.width/2-t/2;else if("O"==i){var a=this.getCursorPosition();s=a.x,o=a.y}return"width="+t+",height="+e+",left="+Math.round(s)+",top="+Math.round(o)+",scrollbars=yes"},getServerDomain_:function(){var t=e.createElement("a");return t.href=this.serverUrl,t.host+t.pathname},getDomainHash:function(){return this.b64EncodeStringWithUnicode(this.getServerDomain_()).replace(/[+=\/]/g,"")},getRunningChatCookieName_:function(){return"LaRunningChat_"+this.getDomainHash()},getVisitorIdCookieName_:function(){return"LaVisitorId_"+this.getDomainHash()},b64EncodeStringWithUnicode:function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))},processBrowserEvent:function(t){try{var e=JSON.parse(t,(function(t,e){if("string"!=typeof e&&"number"!=typeof e&&!Array.isArray(e))throw new TypeError("Unsupported type");return e}))}catch(t){return}if(Array.isArray(e)&&e.length>0)switch(e[0]){case"closeInvitation":let t=this.getWidgetsByWidgetId(e[1]);for(var i=0;i<t.length;i++)t[i]instanceof o.Invitation&&this.getWidget(t[i].getElementId()).close();break;case"createInvitation":this.createInvitation(e[1],e[2]);break;case"createManualInvitation":this.createManualInvitation(e[1],e[2]);let s=this.getWidgetsByWidgetId(e[1]);for(i=0;i<s.length;i++){var n=s[i];!n.isInitialized()&&n instanceof o.ManualInvitation&&(n.initEmbeddedChat(e[3],e[4],e[5],e[6],e[7]),n.open())}break;case"chatTrackingStartChat":try{chatTrackingStartChat(e[1])}catch(t){}break;case"chatTrackingEndChat":try{chatTrackingEndChat(e[1])}catch(t){}break;case"chatTrackingAgentMessage":try{chatTrackingAgentMessage(e[1],e[2],e[3])}catch(t){}break;case"chatTrackingCustomerMessage":try{chatTrackingCustomerMessage(e[1],e[2],e[3])}catch(t){}}},closeOpenedWidget:function(){this.hasOpenedWidget()&&(this.resetVisitorIfRequested(),this.openedWidget.hide(),this.setOpenedWidget(null),o.setCookieOnTopDomain(this.getRunningChatCookieName_(),"",void 0),this.restartCallback=null)},restartOpenedWidget:function(){let t=this.restartCallback;this.closeOpenedWidget(),null!=t&&t()},minimizeOpenedWidget:function(t){this.hasOpenedWidget()&&("DR"==this.openedWidget.getPosition()||"DL"==this.openedWidget.getPosition()?t>150?(this.openedWidget.getElement().style.top="0",this.openedWidget.getElement().style.height="100%"):(this.openedWidget.getElement().style.top="auto",this.openedWidget.setSize(this.openedWidget.width,t)):this.openedWidget.setSize(this.openedWidget.width,t))},clickVirtualButton:function(t){this.elements.has(t)&&this.elements.get(t).onClick()},onEmbeddedChatOpened:function(t){if(""!=t&&!this.isChatRunning()&&this.hasOpenedWidget()){var e=this.openedWidget.getRunningChatPreset();e.cid=t,e.domain=this.getServerDomain_();var i=o.stringifyToJSON(e);""!=i&&o.setCookieOnTopDomain(this.getRunningChatCookieName_(),i,void 0)}},isChatRunning:function(){var t=this.getRunningChatPreset_();return null!=t&&t.domain===this.getServerDomain_()},startChatFromContactForm:function(t){this.hasOpenedWidget()&&this.openedWidget.startChat(t)},setOpenedWidgetTitleName:function(t){this.hasOpenedWidget()&&this.openedWidget.setTitleName(t)},resetVisitorAfterConversation:function(t){o.setCookieOnTopDomain("LaReset",t)},action:function(){if(arguments.length>0)switch(arguments[0]){case"setOpenedWidgetTitleName":this.setOpenedWidgetTitleName(arguments[1]);break;case"resizeWidget":this.getWidget(arguments[1]).resize(arguments[2],arguments[3]);break;case"setWidgetTitleName":this.getWidget(arguments[1]).setTitleName(arguments[2]);break;case"closeWidget":this.getWidget(arguments[1]).close();break;case"closeOpenedWidget":this.closeOpenedWidget();break;case"restartOpenedWidget":this.restartOpenedWidget();break;case"onEmbeddedChatOpened":this.onEmbeddedChatOpened(arguments[1]);break;case"startChatFromContactForm":this.startChatFromContactForm(arguments[1]);break;case"processTrackerEvent":this.tracker.processEvent(arguments[1]);break;case"minimizeOpenedWidget":this.minimizeOpenedWidget(arguments[1]);break;case"clickVirtualButton":this.clickVirtualButton(arguments[1]);break;case"resetVisitorAfterConversation":this.resetVisitorAfterConversation(arguments[1])}},initUserDetails_:function(){try{this.userDetails=JSON.parse(o.getCookie("LaUserDetails"))}catch(t){this.userDetails={}}"object"==(this.userDetails,!1)&&(this.userDetails={})},initRunningChat_:function(){if(this.isChatRunning()){var t=this.getRunningChatPreset_(),e=this.parseContactWidgetIdFromUrl_(t.url),i=function(){};if(null!=e){let t=this.getWidgetsByWidgetId(e);if(null!=t){for(var n=0;n<t.length;n++)t[n]instanceof o.Button&&t[n].hideButton_();i=function(){for(var e=0;e<t.length;e++)t[e]instanceof o.Button&&t[e].onCloseFunction_()}}else o.disableRunningChat()}this.openedWidget=new o.RunningChat(t),this.openedWidget.show(i)}},getRunningChatPreset_:function(){var t=o.getCookie(this.getRunningChatCookieName_());return null!=t&&""!=t&&this.runningChatEnabled?JSON.parse(t):null},parseContactWidgetIdFromUrl_:function(t){var e;return null!==(e=/.*[?&]cwid=([a-z0-9]{8})&.*/gim.exec(t))?e[1]:null},detectMobileBrowser_:function(){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(this.isMobileBrowser=!0)},initSessionId_:function(t){this.sessionId=o.getCookie("LaSID"),""==this.sessionId&&(this.sessionId=this.generateRandomId_()),o.setCookie("LaSID",this.sessionId)},initBrowserId_:function(t=!1){this.browserId=o.getCookie(this.getVisitorIdCookieName_()),(""==this.browserId||t)&&(o.setCookie("LaVisitorNew","Y",1),this.browserId=this.generateRandomId_(),o.setCookieOnTopDomain(this.getVisitorIdCookieName_(),this.browserId))},isVisitorResetRequested:function(){return"Y"===o.getCookie("LaReset")},resetVisitorIfRequested:function(){this.isVisitorResetRequested()&&(this.initBrowserId_(!0),o.setCookieOnTopDomain("LaReset","",-1))},generateRandomId_:function(){var t=(new Date).getTime();return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(e){var i=(t+36*Math.random())%36|0;return t=Math.floor(t/16),i.toString(36)}))}}));o.getCookie=function(t){var i=("; "+e.cookie).split("; "+t+"=");return i.length>1?decodeURIComponent(i.pop().split(";").shift()):""},o.setCookie=function(t,i,n,s){var o="";if(void 0!==n){var a=new Date;a.setDate(a.getDate()+n),o="; expires="+a.toUTCString()}var r="";void 0!==s&&(r="; domain=."+s),e.cookie=t+"="+encodeURIComponent(i)+r+"; path=/"+o},o.setCookieOnTopDomain=function(t,i,n){var s="";if(void 0!==n){var a=new Date;a.setDate(a.getDate()+n),s="; expires="+a.toUTCString()}for(var r=e.domain,h=0,c=r.split(".");h<c.length-1&&o.getCookie(t)!==i;)r=c.slice(-1-++h).join("."),e.cookie=t+"="+encodeURIComponent(i)+";domain="+r+"; path=/"+s},o.stringifyToJSON=function(t){var e=JSON.stringify;JSON.stringify=function(t){var i=Array.prototype.toJSON;null!=i&&delete Array.prototype.toJSON;var n=e(t);return null!=i&&(Array.prototype.toJSON=i),n};var i=JSON.stringify(t);return JSON.stringify=e,i},o.disableTracking=function(){o.instance.tracking=!1},o.createButton=function(t,e,i){return o.instance.addWidget_(new o.Button(t,e,i))},o.createVirtualButton=function(t,e,i){return o.instance.addWidget_(new o.VirtualButton(t,e,i))},o.createForm=function(t,e,i){return o.instance.addWidget_(new o.InPageForm(t,e,i))},o.createKbSearchWidget=function(t){return o.instance.addWidget_(new o.KbSearchWidget(t))},o.createKbChat=function(t,e){return o.instance.addWidget_(new o.KbChat(t,e))},o.setUserDetails=function(t,e,i,n){o.addUserDetail("email",t),o.addUserDetail("firstName",e),o.addUserDetail("lastName",i),o.addUserDetail("phone",n)},o.addField=function(t,e,i){delete o.instance.userDetails[i+t],""!=t&&null!=t&&""!=e&&null!=e?(o.instance.userDetails[i+t]=e,o.setCookie("LaUserDetails",JSON.stringify(o.instance.userDetails))):o.setCookie("LaUserDetails",JSON.stringify(o.instance.userDetails))},o.addUserDetail=function(t,e){o.addField(t,e,"")},o.addContactField=function(t,e){o.addField(t,e,"c_")},o.addTicketField=function(t,e){o.addField(t,e,"t_")},o.clearAllUserDetails=function(){o.instance.userDetails={},o.setCookie("LaUserDetails",JSON.stringify(o.instance.userDetails))},o.setVisitorLocation=function(e){o.instance.trackVisit_(e,"N"),o.instance.isChatRunning()&&t.LiveAgentTrackerXD.postMessage(["updateVisitorLocation",e],o.instance.openedWidget.element.src,o.instance.openedWidget.element.contentWindow)},o.loginUserOnServer=function(t,e){o.RemoteAuth.login(t,e)},o.logoutUserOnServer=function(t){o.RemoteAuth.logout(t)},o.disableRunningChat=function(){o.instance.runningChatEnabled=!1},o.Request=n,o.$class=i,t.LiveAgent=o,t.LiveAgentTracker=t.LiveAgent,t.LiveAgent.instance=new o,LiveAgentTracker.disableOnlineVisitorsTracking=function(){o.disableTracking()},LiveAgentTracker.closeBubbleButton=function(t){o.instance.getWidget(t).closeBubble()}}}(window,document),function(t){if(!t.Iframe){var e=t.$class({construct:function(t){this.url=t,this.autoPrepareNextFrame=!0,this.onCloseFunctions=[],this.init_()},show:function(t,e){if(this.setDefaultTabIndex(),this.addOnCloseFunction(e),this.isLoaded)this.showFrame_(t);else{var i=this;this.onLoad_=function(){i.showFrame_(t)}}},hide:function(){this.element.style.display="none",this.element.setAttribute("tabindex","-1");var t=this.element;setTimeout((function(){t.parentNode.removeChild(t)}),5e3),this.autoPrepareNextFrame&&this.init_(),this.onCloseFunctions.forEach((function(t){t()}))},addOnCloseFunction:function(t){null!=t&&this.onCloseFunctions.push(t)},postMessage:function(t){window.LiveAgentTrackerXD.postMessage(t,this.element.src,this.frameXDReference)},setPosition:function(t,e,i){this.windowPosition=t;var n=this.element.style;"BR"==t?(n.bottom="0px",n.right="0px",n.marginRight="2px"):"BL"==t?(n.bottom="0px",n.left="0px",n.marginLeft="2px"):"TR"==t?(n.top="0px",n.right="0px",n.smarginRight="2px"):"TL"==t?(n.top="0px",n.left="0px",n.marginLeft="2px"):"DR"==t?(n.top="0px",n.right="0px",n.bottom="0px",n.position="fixed",n.height="100%"):"DL"==t?(n.top="0px",n.left="0px",n.bottom="0px",n.position="fixed",n.height="100%"):(n.top="50%",n.left="50%",n.marginLeft="-"+Math.round(e/2)+"px",n.marginTop="-"+Math.round(i/2)+"px")},getPosition:function(){return this.windowPosition},getElement:function(){return this.element},setTitleName:function(t){this.element.setAttribute("title",t)},setSize:function(t,e){var i=this.element.style;i.width=t+"px",i.height=e+"px"},setZIndex:function(t){this.element.style.zIndex=t},setDefaultTabIndex:function(){this.element.setAttribute("tabindex","0")},getMetaTagValue:function(t){const e=document.getElementsByTagName("meta");for(let i=0;i<e.length;i++)if(e[i].getAttribute("name")===t)return e[i].getAttribute("content");return""},init_:function(){this.isLoaded=!1,this.windowPosition=!1,this.onLoad_=function(){},this.element=document.createElement("iframe");var t=this,e=function(){t.isLoaded=!0,t.onLoad_()};this.element.attachEvent?this.element.attachEvent("onload",e):this.element.onload=e;var i=this.element.style;i.display="none",i.position="fixed",i.border="0px",i.overflow="hidden",this.element.setAttribute("src",this.url),this.element.setAttribute("allowfullscreen",!0),this.element.setAttribute("allow","microphone; camera"),this.element.setAttribute("tabindex","-1"),void 0!==this.className&&this.element.setAttribute("class",this.className),void 0!==this.id&&this.element.setAttribute("id",this.id),document.body.appendChild(this.element),this.frameXDReference=frames[frames.length-1]},onLoad_:function(){},showFrame_:function(t){this.element.style.display="block"},getBrowserWidth:function(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)},getBrowserHeight:function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}});t.Iframe=e}}(LiveAgent),function(t){if(!t.EmbeddedChat){var e=t.$class({Extends:t.Iframe,construct:function(e,i,n,s,o,a){this.width=i,this.height=n,this.position=s,this.className="i-embedded-chat",this.id="ic"+a,null!=o&&""!=o.trim()||(o="999997"),this.zIndex=o,this.runningChatPreset={url:e,width:i,height:n,position:s};var r=t.instance.getServerUrl()+e+"&pt="+encodeURIComponent(document.title)+"&ref="+encodeURIComponent(document.location.href);t.Iframe.call(this,r)},getRunningChatPreset:function(){return this.runningChatPreset},startChat:function(t,e){this.show({cid:t},e)},showFrame_:function(i){for(var n in this.setZIndex(this.zIndex),this.width=Math.min(this.getBrowserWidth(),this.width),this.height=Math.min(this.getBrowserHeight(),this.height),this.setSize(this.width,this.height),this.setPosition(this.position,this.width,this.height),this.postMessage(["setParam","metadescription",this.getMetaTagValue("description")]),this.postMessage(["setParam","metakeywords",this.getMetaTagValue("keywords")]),this.postMessage(["setParam","visitorId",LiveAgent.instance.getBrowserId()]),this.postMessage(["setParam","reset_visitor",LiveAgent.getCookie("LaReset")]),this.postMessage(["setParam","user_details",JSON.stringify(t.instance.getUserDetails())]),i)if(i.hasOwnProperty(n)){if("cid"==n)continue;var s=i[n];"note"==n&&null!=s&&""!=s&&(s=encodeURIComponent(s)),this.postMessage(["setParam",n,s])}null!=i.cid?this.postMessage(["start",i.cid]):this.postMessage(["start"]),e._superClass.showFrame_.call(this,i),t.instance.setOpenedWidget(this)}});t.EmbeddedChat=e}}(LiveAgent),function(t){if(!t.RunningChat){var e=t.$class({Extends:t.EmbeddedChat,construct:function(e){var i=e.url.replace("_chat.html","_chatrunning.html")+"&cid="+e.cid;t.EmbeddedChat.call(this,i,e.width,e.height,e.position)},show:function(t){e._superClass.show.call(this,{},t)}});t.RunningChat=e}}(LiveAgent),function(t){if(!t.PopupWidget){var e=t.$class({construct:function(e,i,n,s,o){this.width=i,this.height=n,this.position=s,this.url=t.instance.getServerUrl(o)+e,null!=t.instance.getBrowserId()&&""!=t.instance.getBrowserId()&&(this.url+="&vid="+encodeURIComponent(t.instance.getBrowserId())),null!=t.instance.getUserDetails()&&JSON.stringify(""!=t.instance.getUserDetails())&&(this.url+="&ud="+encodeURIComponent(JSON.stringify(t.instance.getUserDetails())))},show:function(e,i){this.onCloseFunction=i,null!=e.note&&""!=e.note&&(this.url+="&note="+encodeURIComponent(e.note)),this.popupWindow=this.openPopupWindow_(this.url),t.instance.setOpenedWidget(this)},hide:function(){null!=this.onCloseFunction&&this.onCloseFunction()},openPopupWindow_:function(e){e+="&pt="+encodeURIComponent(document.title)+"&ref="+encodeURIComponent(document.location.href);return null==this.width?window.open(e,"_blank"):window.open(e,"_blank",t.instance.createPopoutWindowParams_(this.width,this.height,this.position))}});t.PopupWidget=e}}(LiveAgent),function(t){if(!t.PopupChat){var e=t.$class({Extends:t.PopupWidget,construct:function(e,i,n,s){t.PopupWidget.call(this,e,i,n,s,void 0)},startChat:function(t,e){this.openPopupWindow_(this.url+"&cid="+t,e)}});t.PopupChat=e}}(LiveAgent),function(t){if(!t.Widget){var e=t.$class({construct:function(t){this.id=t,this.elementId=this.buildElementId(t),this.sendInitRequest_()},isInitialized:function(){return null!=this.dateChanged},initDateChanged:function(t){this.dateChanged=t},sendInitRequest_:function(){var e=this.getCreateRequest();t.instance.addScript("scripts/button.php?ChS="+escape(t.instance.getPageCharset())+e.getParamsString())},addButtonParamsToUrl_:function(t){return t},getCreateRequest:function(){var e=new t.Request("Widget");return e.add("i",this.id),e.add("p",e.fullEncodeUrl_(document.location.href)),t.instance.isMobile()&&e.add("m","Y"),e},buildElementId:function(t){return"b_"+t+"_"+Math.round(1e3*Math.random()).toString()},getElementId:function(){return this.elementId},getId:function(){return this.id}});t.Widget=e}}(LiveAgent),function(t){if(!t.EmbeddedForm){var e=t.$class({Extends:t.Iframe,construct:function(e,i,n,s,o,a,r,h){this.width=i,this.height=n,this.position=s,this.className="i-embedded-form",this.id="if"+h,this.useBlocker=a,null!=o&&""!=o.trim()||(o="999997"),this.zIndex=o;var c=t.instance.getServerUrl(r)+e+"&pt="+encodeURIComponent(document.title)+"&ref="+encodeURIComponent(document.location.href);t.Iframe.call(this,c),this.useBlocker&&this.initBlockingElement_()},showFrame_:function(i){this.useBlocker&&this.showBlockingElement_(),this.updateFrameStyle_(),this.postMessage(["setParam","visitorId",LiveAgent.instance.getBrowserId()]),this.postMessage(["setParam","reset_visitor",LiveAgent.getCookie("LaReset")]),this.postMessage(["setParam","note",null!=i.note&&""!=i.note?encodeURIComponent(i.note):""]),this.postMessage(["setParam","user_details",JSON.stringify(t.instance.getUserDetails())]),this.postMessage(["setParam","metadescription",this.getMetaTagValue("description")]),this.postMessage(["setParam","metakeywords",this.getMetaTagValue("keywords")]),this.postMessage(["start"]),e._superClass.showFrame_.call(this,i),t.instance.setOpenedWidget(this),this.originalResizeFunction=window.onresize;var n=this;window.onresize=function(){n.updateFrameStyle_(),null!=n.originalResizeFunction&&n.originalResizeFunction()}},initChat:function(t){this.chatOpenFunction=t},startChat:function(t){this.hide(),null!=this.chatOpenFunction&&this.chatOpenFunction(t)},hide:function(){window.onresize=this.originalResizeFunction,this.useBlocker&&this.hideBlockingElement_(),e._superClass.hide.call(this)},initBlockingElement_:function(){this.formBlockingElement=document.createElement("div");var t=this.formBlockingElement.style;t.display="none",t.position="fixed",t.zIndex=this.zIndex-1,t.top="0px",t.left="0px",t.width="100%",t.height="100%",t.backgroundColor="#000",t.opacity="0.6",t.filter="alpha(opacity = 60)",t.cursor="default",document.body.appendChild(this.formBlockingElement);try{this.originalOverflowSetting=document.body.style.overflow,""==this.originalOverflowSetting&&(this.originalOverflowSetting="auto")}catch(t){this.originalOverflowSetting=void 0}},hideBlockingElement_:function(){if(this.formBlockingElement.style.display="none",null!=this.originalOverflowSetting)try{document.body.style.overflow=this.originalOverflowSetting}catch(t){}},showBlockingElement_:function(){if(this.formBlockingElement.style.display="block",null!=this.originalOverflowSetting)try{document.body.style.overflow="hidden"}catch(t){}},updateFrameStyle_:function(){var t=this.getWindowSize_(),e=this.width,i=this.height;t.height>0&&.9*t.height<i&&(i=Math.round(.9*t.height)),t.width>0&&.9*t.width<e&&(e=Math.round(.9*t.width)),e=Math.max(200,e),i=Math.max(300,i),this.postMessage(["setSize",e,i]),this.setSize(e,i),this.setZIndex(this.zIndex),this.setPosition(this.position,e,i)},getWindowSize_:function(){var t={width:800,height:600};return document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth&&(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight),window.innerWidth&&window.innerHeight&&(t.width=window.innerWidth,t.height=window.innerHeight),t}});t.EmbeddedForm=e}}(LiveAgent),function(t){if(!t.PopupForm){var e=t.$class({Extends:t.PopupWidget,construct:function(e,i,n,s,o){t.PopupWidget.call(this,e,i,n,s,o)},initChat:function(t){this.chatOpenFunction=t},startChat:function(t){this.hide(),null!=this.chatOpenFunction&&this.chatOpenFunction(t)}});t.PopupForm=e}}(LiveAgent),function(t){if(!t.Button){var e=t.$class({Extends:t.Widget,construct:function(e,i,n){t.Widget.call(this,e),this.note=n,null==this.note&&(this.note="");var s=this;this.insertButtonElement_(i),this.onCloseCallBack=function(){s.onCloseFunction_()},this.restartCallback=function(){s.onClick()}},initHtml:function(t){"https:"==document.location.protocol&&(t=t.replace("http://","https://")),t=(t=t.replace(/\{\$buttonid\}/g,this.getElementId())).replace(/\{\$display\}/g,this.isBubbleClosed_()?"none":"block"),this.buttonDiv.innerHTML=t},initCss:function(t){"https:"==document.location.protocol&&(t=t.replace("http://","https://")),t=t.replace(/\{\$buttonid\}/g,this.getElementId());var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},initEmbeddedChat:function(e,i,n,s,o){this.chat=new t.EmbeddedChat(this.addButtonParamsToUrl_(e),i,n,s,o,this.getElementId())},initPopoutChat:function(e,i,n,s){this.chat=new t.PopupChat(this.addButtonParamsToUrl_(e),i,n,s)},initMobileChat:function(e){this.chat=new t.PopupChat(this.addButtonParamsToUrl_(e))},initForm:function(e,i,n,s,o,a,r){this.form=new t.EmbeddedForm(this.addButtonParamsToUrl_(e),i,n,s,o,a,r,this.getElementId())},initMobileForm:function(e,i){this.form=new t.PopupForm(this.addButtonParamsToUrl_(e),void 0,void 0,void 0,i)},initPopoutForm:function(e,i,n,s,o){this.form=new t.PopupForm(this.addButtonParamsToUrl_(e),i,n,s,o)},initPreChatForm:function(t,e,i,n,s,o){this.initForm(t,e,i,n,s,o);var a=this;this.form.initChat((function(t){a.hideButton_(),a.chat.startChat(t,a.onCloseCallBack)}))},initPopoutPreChatForm:function(e,i,n,s,o){this.form=new t.PopupForm(this.addButtonParamsToUrl_(e),i,n,s,o);var a=this;this.form.initChat((function(t){a.hideButton_(),a.chat.startChat(t,a.onCloseCallBack)}))},initPreChatMobileForm:function(t){this.initMobileForm(t);var e=this;this.form.initChat((function(t){e.hideButton_(),e.chat.startChat(t,e.onCloseCallBack)}))},initVideoCallForm:function(e,i,n,s){this.form=new t.VideoCallForm(this.addButtonParamsToUrl_(e),i,n,s,this.getElementId())},initCallPopOut:function(e,i,n,s){this.form="Y"==s?new t.PopupForm(this.addButtonParamsToUrl_(e),i,n,"C","https:"):new t.PopupForm(this.addButtonParamsToUrl_(e),void 0,void 0,void 0,"https:")},initVideoCallPopOut:function(e,i){var n=t.instance.getWindowSize_();this.initCallPopOut(e,Math.round(.9*n.width),Math.round(.9*n.height),i)},initVideoCall:function(t,e,i,n,s){0!=document.location.href.indexOf("https://")?this.initVideoCallPopOut(t+"&cwt=phone_popout",s):this.initVideoCallForm(t+"&cwt=phone_popup",e,i,n)},initVoiceCallForm:function(t,e,i,n){this.initForm(t,e,i,"C",n,!0,"https:")},initVoiceCallPopOut:function(t,e,i,n){this.initCallPopOut(t,e,i,n)},initVoiceCall:function(t,e,i,n,s){0!=document.location.href.indexOf("https://")?this.initVoiceCallPopOut(t+"&cwt=phone_popout",e,i,s):this.initVoiceCallForm(t+"&cwt=phone_popup",e,i,n)},isBubbleClosed_:function(){return-1!=t.getCookie("closedBubbleButtons").indexOf(this.id)},closeBubble:function(){if(!this.isBubbleClosed_()){var e=t.getCookie("closedBubbleButtons");e+=","+this.id,t.setCookie("closedBubbleButtons",e,60)}},insertButtonElement_:function(t){this.buttonDiv=document.createElement("div"),this.buttonDiv.setAttribute("id",this.getElementId()),this.buttonDiv.setAttribute("tabindex","0");var e=this;this.buttonDiv.onclick=function(){e.onClick()},this.buttonDiv.onmouseout=function(){e.onMouseOut()},this.buttonDiv.style.cursor="pointer",this.buttonDiv.className+=this.getElementId()+"-animate",t.parentNode.insertBefore(this.buttonDiv,t.nextSibling),t.parentNode.removeChild(t)},getCreateRequest:function(){var t=e._superClass.getCreateRequest.call(this);return this.isMSIE9orLower_()&&t.add("ie9","Y"),t},isMSIE9orLower_:function(){if(!window.opera&&/MSIE\s(\d+\.\d+);/.test(navigator.userAgent)&&new Number(RegExp.$1)<9)return!0;return!1},hideButton_:function(){void 0!==this.buttonDiv&&null!=this.buttonDiv&&(this.buttonDiv.style.visibility="hidden",this.buttonDiv.className=" ")},onCloseFunction_:function(){void 0!==this.buttonDiv&&null!=this.buttonDiv&&(this.buttonDiv.style.visibility="visible",this.buttonDiv.className+=this.getElementId()+"-animate",this.buttonDiv.setAttribute("tabindex","-1"))},onClick:function(){t.instance.hasOpenedWidget()||(t.instance.setRestartCallback(this.restartCallback),LiveAgent.instance.isChatRunning()?LiveAgent.instance.initRunningChat_():(this.hideButton_(),null==this.form?void 0===this.params||void 0===this.params.invitationAgentId||null===this.params.invitationAgentId?this.chat.show({note:this.note},this.onCloseCallBack):this.chat.show({note:this.note,invitationAgentId:this.params.invitationAgentId},this.onCloseCallBack):this.form.show({note:this.note},this.onCloseCallBack)))},onMouseOut:function(){void 0!==this.buttonDiv&&null!=this.buttonDiv&&(this.buttonDiv.className=" ")},onOnline:function(){},onOffline:function(){},setTitleName:function(t){void 0!==this.buttonDiv&&null!=this.buttonDiv&&this.buttonDiv.setAttribute("title",t)}});t.Button=e}}(LiveAgent),function(t){if(!t.VirtualButton){var e=t.$class({Extends:t.Button,construct:function(e,i,n){t.Button.call(this,e,i,n)},insertButtonElement_:function(t){},getCreateRequest:function(){var t=e._superClass.getCreateRequest.call(this);return t.add("v","Y"),t},initHtml:function(t){},initCss:function(t){},getElementId:function(){return this.id},hideButton_:function(){},onCloseFunction_:function(){}});t.VirtualButton=e}}(LiveAgent),function(t){if(!t.InPageForm){var e=t.$class({Extends:t.Widget,construct:function(e,i,n){t.Widget.call(this,e),this.note=n,null==this.note&&(this.note=""),this.init_(i)},resize:function(t,e){var i=this.iframeElement.style;i.width=t+"px",i.height=e+"px"},initForm:function(e,i,n){this.iframeElement.setAttribute("src",t.instance.getServerUrl()+e+"&pt="+encodeURIComponent(document.title)+(null!=this.note&&""!=this.note?"&note="+escape(this.note):"")+"&vid="+t.instance.getBrowserId()+"&ud="+encodeURIComponent(JSON.stringify(t.instance.getUserDetails()))+"&eid="+this.getElementId()+"&ref="+encodeURIComponent(document.location.href)),this.resize(i,n)},init_:function(t){this.iframeElement=document.createElement("iframe"),this.iframeElement.setAttribute("id",this.getElementId());var e=this.iframeElement.style;e.maxWidth="100%",e.width="0px",e.height="0px",e.overflow="hidden",e.border="0 none transparent",t.parentNode.insertBefore(this.iframeElement,t.nextSibling),t.parentNode.removeChild(t)},getCreateRequest:function(){var t=e._superClass.getCreateRequest.call(this);return t.add("t","I"),t}});t.InPageForm=e}}(LiveAgent),function(t){if(!t.KbSearchWidget){var e=t.$class({Extends:t.Widget,construct:function(e){this.className="i-kb-search",this.kbsid="ik"+e,t.Widget.call(this,e)},initKbSearch:function(e,i,n,s,o){this.iframe=new t.Iframe(t.instance.getServerUrl()+e+"?id="+this.id+"&eid="+this.getElementId()+"&t="+this.dateChanged+"&ref="+encodeURIComponent(document.location.href)),this.iframe.setPosition(s,i,n),this.iframe.setSize(i,n),null!=o&&""!=o.trim()||(o="999997"),this.iframe.setZIndex(o),this.iframe.show(),void 0!==this.className&&this.iframe.getElement().setAttribute("class",this.className),void 0!==this.id&&this.iframe.getElement().setAttribute("id",this.kbsid)},resize:function(t,e){this.iframe.setSize(t,e)},close:function(){this.iframe.hide()},setTitleName:function(t){this.iframe.setTitleName(t)},getCreateRequest:function(){var t=e._superClass.getCreateRequest.call(this);return t.add("t","KS"),t}});t.KbSearchWidget=e}}(LiveAgent),function(t){if(!t.Invitation){var e=t.$class({Extends:t.Button,construct:function(e,i){this.timeOnPage=i,this.id=e,this.elementId=this.buildElementId(e),t.Button.call(this,e)},buildElementId:function(t){return"b_"+t+"_"+Math.round(1e3*Math.random()).toString()},initHtml:function(e){this.buttonDiv=document.createElement("div"),this.buttonDiv.setAttribute("id",this.getElementId()),this.buttonDiv.setAttribute("tabindex","0"),null!=this.params&&(e=(e=(e=(e=(e=(e=(e=e.replace(/\{\$open\}/g,this.params.openCommand)).replace(/\{\$close\}/g,this.params.closeCommand)).replace(/\{\$agentName\}/g,this.params.agentName)).replace(/\{\$agentFirstName\}/g,this.params.agentName.split(" ")[0])).replace(/\{\$agentLastName\}/g,this.params.agentName.split(" ").length>1?this.params.agentName.split(" ")[1]:this.params.agentName.split(" ")[0])).replace(/\{\$agentAvatarUrl\}/g,this.params.avatarUrl.replace("__BASE_URL__",t.instance.getServerUrl()))).replace(/\{\$agentAvatarBackgroundUrl\}/g,this.params.avatarBackgroundUrl.replace("__BASE_URL__",t.instance.getServerUrl())),this.buttonDiv.innerHTML=e,document.body.appendChild(this.buttonDiv),"Y"==this.params.animation?this.animate_(1e3,1):this.setStyle_(100))},initEmbeddedChat:function(e,i,n,s,o){null!=this.params&&(this.chat=new t.EmbeddedChat(this.addButtonParamsToUrl_(e),i,n,s,o,this.getElementId()))},initInvitation:function(t){null==t.openCommand&&(t.openCommand="LiveAgent.instance.getWidget('"+this.getElementId()+"').open()"),null==t.closeCommand&&(t.closeCommand="LiveAgent.instance.getWidget('"+this.getElementId()+"').refuse()"),null==t.verticalConstant&&(t.verticalConstant=0),null==t.horizontalConstant&&(t.horizontalConstant=0),null!=t.zIndex&&""!=t.zIndex.trim()||(t.zIndex="999997"),this.params=t;var e=this;setTimeout((function(){e.close()}),1e3*t.validity)},open:function(){this.onClick(),this.close()},refuse:function(){this.close();var e=t.getCookie("closedInvitations");null!=e&&""!=e?e+=","+this.id:e=this.id,t.setCookie("closedInvitations",e);var i=new t.Request("RefuseInvitation");t.instance.send(i)},close:function(){void 0!==this.buttonDiv&&null!=this.buttonDiv&&null!=this.buttonDiv.parentNode&&this.buttonDiv.parentNode.removeChild(this.buttonDiv)},sendInitRequest_:function(){var e=this;this.sendTimer=setTimeout((function(){t.instance.send(e.getCreateRequest())}),this.getTimeToInit_())},getTimeToInit_:function(){var e=t.instance.getPageOpenedTimestamp()+1e3*this.timeOnPage-(new Date).getTime();return e>0?e:1},cancel:function(){clearTimeout(this.sendTimer)},insertButtonElement_:function(t){},animate_:function(t,e){if(this.setStyle_(e),e<100){var i=this;setTimeout((function(){i.animate_(t,e+1)}),t/100)}},setStyle_:function(e){if(void 0!==this.buttonDiv&&null!=this.buttonDiv){this.buttonDiv.style.position="fixed",this.buttonDiv.style.zIndex=this.params.zIndex;var i=(e%2==0?1:-1)*(-this.params.height/25+this.params.height/100*e/25);if("O"==this.params.position){var n=t.instance.getCursorPosition(),s=this.getScrollXY();return this.buttonDiv.style.top=n.y-s.y+this.params.verticalConstant+"px",void(this.buttonDiv.style.left=Math.round(n.x-s.x+i)+this.params.horizontalConstant+"px")}switch(this.params.position){case"TLR":return this.buttonDiv.style.left="0",this.buttonDiv.style.right="0",void(this.buttonDiv.style.top=Math.round(-this.params.height+this.params.height/100*e)+this.params.verticalConstant+"px");case"BLR":return this.buttonDiv.style.left="0",this.buttonDiv.style.right="0",void(this.buttonDiv.style.bottom=Math.round(-this.params.height+this.params.height/100*e)+this.params.verticalConstant+"px")}switch(this.params.position[0]){case"T":this.buttonDiv.style.top=Math.round(-this.params.height+this.params.height/100*e)+this.params.verticalConstant+"px";break;case"B":this.buttonDiv.style.bottom=Math.round(-this.params.height+this.params.height/100*e)+this.params.verticalConstant+"px";break;case"C":this.buttonDiv.style.top="50%",this.buttonDiv.style.marginTop=Math.round(-this.params.height/2)+"px"}switch(this.params.position[1]){case"L":this.buttonDiv.style.left=Math.round(-this.params.width+this.params.width/100*e)+this.params.horizontalConstant+"px";break;case"R":this.buttonDiv.style.right=Math.round(-this.params.width+this.params.width/100*e)+this.params.horizontalConstant+"px";break;case"C":this.buttonDiv.style.left="50%",this.buttonDiv.style.marginLeft=Math.round(-this.params.width/2)+"px";break;default:this.buttonDiv.style.left="50%",this.buttonDiv.style.marginLeft=Math.round(-this.params.width/2+i)+"px"}}},getScrollXY:function(){return"number"==typeof window.pageYOffset?{x:window.pageXOffset,y:window.pageYOffset}:document.body&&(document.body.scrollLeft||document.body.scrollTop)?{x:document.body.scrollLeft,y:document.body.scrollTop}:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}:{x:0,y:0}},getElementId:function(){return this.elementId}});t.Invitation=e}}(LiveAgent),function(t){if(!t.ManualInvitation){var e=t.$class({Extends:t.Button,construct:function(e,i){t.Button.call(this,e),this.cid=i},initHtml:function(t){},initCss:function(t){},initEmbeddedChat:function(e,i,n,s,o){this.chat=new t.EmbeddedChat(this.addButtonParamsToUrl_(e),i,n,s,o),this.chat.autoPrepareNextFrame=!1;var a=this;this.chat.addOnCloseFunction((function(){LiveAgent.instance.removeWidget(a)}))},addButtonParamsToUrl_:function(t){return(t=e._superClass.addButtonParamsToUrl_.call(this,t))+"&cid="+this.cid+"&fi=Y&vid="+LiveAgent.instance.getBrowserId()},open:function(){this.onClick()},sendInitRequest_:function(){},insertButtonElement_:function(t){this.buttonDiv=document.createElement("div"),this.buttonDiv.setAttribute("id",this.getElementId())},getElementId:function(){return this.id}});t.ManualInvitation=e}}(LiveAgent),function(t){if(!t.TrackDb){var e=t.$class({Extends:t.Request,construct:function(e){t.Request.call(this,"UpdateVisit"),this.add("t",e)}}),i=t.$class({construct:function(t){this.timer=!1,this.startTime=new Date,this.setTrackingTimeout_(t),this.scheduleTrack_()},setTrackingTimeout:function(t){this.setTrackingTimeout_(t),this.trackingTimeout<0?clearTimeout(this.timer):this.scheduleTrack_()},scheduleTrack_:function(){clearTimeout(this.timer);var t=this;this.timer=setTimeout((function(){t.track()}),this.trackingTimeout)},getTimeOnPageMin_:function(){return Math.floor(((new Date).getTime()-this.startTime)/6e4)},sendBusRequest:function(){t.instance.send(new t.Request("DbBus"))},track:function(){t.instance.send(new e(this.getTimeOnPageMin_())),this.sendBusRequest(),this.scheduleTrack_()},setTrackingTimeout_:function(t){this.trackingTimeout=1e3*t}});t.TrackDb=i}}(LiveAgent),function(t){if(!t.TrackFile){var e=t.$class({Extends:t.Request,construct:function(e){t.Request.call(this,"FileBusConfirm"),this.add("lastId",e)}}),i=t.$class({Extends:t.TrackDb,construct:function(e,i){this.lastEventId=-1;var n=t.getCookie("laEventId");null!=n&&""!=n&&(this.lastEventId=n),this.setFileBusTimeout_(i),t.TrackDb.call(this,e),this.scheduleReadBus_()},setFileBusTimeout:function(t){this.setFileBusTimeout_(t),this.busTimeout<0?clearTimeout(this.busTimer):this.scheduleReadBus_()},processEvent:function(e,i){if(!(e<=this.lastEventId)){LiveAgent.instance.processBrowserEvent(i),this.lastEventId=e,t.setCookie("laEventId",e,""),clearTimeout(this.flushTimer);var n=this;setTimeout((function(){n.flushEvents()}),500)}},scheduleReadBus_:function(){clearTimeout(this.busTimer);var t=this;this.busTimer=setTimeout((function(){t.readBus_()}),this.busTimeout)},readBus_:function(){t.instance.addScript("accounts/default1/cache/bus/"+t.instance.getSessionId()+".js?r="+Math.floor(1e4*Math.random())),this.scheduleReadBus_()},setFileBusTimeout_:function(t){this.busTimeout=1e3*t},sendBusRequest:function(){},flushEvents:function(){t.instance.send(new e(this.lastEventId))}});t.TrackFile=i}}(LiveAgent),function(t){if(!t.TrackPushStream){var e=t.$class({Extends:t.Iframe,construct:function(e,i,n,s){var o={location:document.location.href,b:LiveAgent.instance.getBrowserId(),t:n},a=s;null!=a&&""!=a||(a=t.instance.getServerUrl()),t.Iframe.call(this,a+"scripts/lib/bus.html?v="+e+"#"+encodeURIComponent(LiveAgent.stringifyToJSON(o)));var r=i+t.instance.getSessionId();this.show({channel:r})},setDefaultTabIndex:function(){this.element.setAttribute("tabindex","-1")},showFrame_:function(t){this.postMessage(t.channel)},processEvent:function(t){LiveAgent.instance.processBrowserEvent(t)}});t.TrackPushStream=e}}(LiveAgent),function(t){if(!t.KbChat){var e=t.$class({Extends:t.Widget,construct:function(e,i){t.Widget.call(this,e),this.cid=i},initEmbeddedChat:function(e,i,n,s,o){this.chat=new t.EmbeddedChat(this.addButtonParamsToUrl_(e),i,n,s,o)},initMobileChat:function(e){this.chat=new t.PopupChat(this.addButtonParamsToUrl_(e+"&kbChatCid="+this.cid))},buildElementId:function(t){return t},getCreateRequest:function(){var t=e._superClass.getCreateRequest.call(this);return t.add("t","KC"),t.add("v","Y"),t},startChat:function(){t.instance.hasOpenedWidget()||this.chat.show({kbChatCid:this.cid})}});t.KbChat=e}}(LiveAgent),function(t){if(!t.RemoteAuth){var e=t.$class({construct:function(e,i,n){this.url=t.instance.getServerUrl()+"scripts/apiAuthUser.php?ahash="+encodeURIComponent(e)+"&act="+encodeURIComponent(i)+"&t="+encodeURIComponent((new Date).getTime())+"&loc="+encodeURIComponent(n)},show:function(){this.element=document.createElement("iframe");var t=this,e=function(){t.onLoad_()};this.element.attachEvent?this.element.attachEvent("onload",e):this.element.onload=e;var i=this.element.style;i.width="1px",i.height="1px",i.cssFloat="left",i.left="-1000px",this.element.setAttribute("src",this.url),document.body.appendChild(this.element)},hide:function(){document.body.removeChild(this.element)},onLoad_:function(){var t=this;setTimeout((function(){t.hide()}),5e3)}});e.login=function(t,i){new e(t,"login",i).show()},e.logout=function(t){new e(t,"logout").show()},t.RemoteAuth=e}}(LiveAgent),function(t){if(!t.VideoCallForm){var e=t.$class({Extends:t.EmbeddedForm,construct:function(e,i,n,s,o){t.EmbeddedForm.call(this,e,i,n,"",s,"true","https:",o)},updateFrameStyle_:function(){var t=this.getWindowSize_(),e=Math.round(.9*t.width),i=Math.round(.9*t.height);e=Math.max(200,e),i=Math.max(300,i),this.postMessage(["setSize",e,i]),this.setSize(t.width,t.height),this.element.style.top="0px",this.element.style.left="0px",this.setZIndex(this.zIndex)}});t.VideoCallForm=e}}(LiveAgent);